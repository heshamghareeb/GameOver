import{a as k,b as f,c as R,d as M,e as S,f as q,h as G,i as P,j as V,k as D}from"./chunk-LJ2PKZKT.js";import{h as j}from"./chunk-NW6OCGKY.js";import{a as N}from"./chunk-H5S6TA53.js";import{e as b,h as y,q as L,r as T,u as A}from"./chunk-7O7LVR3D.js";import{$ as x,Ab as I,La as a,Ma as p,bb as g,db as m,hb as e,ia as w,ib as n,ja as E,jb as d,mb as C,ob as F,pb as v,tb as h,vb as l}from"./chunk-PN7LSG4T.js";function z(t,o){t&1&&(e(0,"li",23),l(1," Email Required "),n())}function B(t,o){t&1&&(e(0,"li",23),l(1," Email Invalid Pattern "),n())}function U(t,o){if(t&1&&(e(0,"ul",21),g(1,z,2,0,"li",22)(2,B,2,0,"li",22),n()),t&2){let u,r,i=v();a(),m("ngIf",(u=i.loginForm.get("email"))==null?null:u.hasError("required")),a(),m("ngIf",(r=i.loginForm.get("email"))==null?null:r.hasError("email"))}}function Z(t,o){t&1&&(e(0,"li",23),l(1," Password Required "),n())}function H(t,o){t&1&&(e(0,"li",23)(1,"ul",24)(2,"li"),l(3,"Password Includes [a-zA-Z0-9]"),n(),e(4,"li"),l(5,"Password Min (3)"),n(),e(6,"li"),l(7,"Password Max (10)"),n()()())}function J(t,o){if(t&1&&(e(0,"ul",21),g(1,Z,2,0,"li",22)(2,H,8,0,"li",22),n()),t&2){let u,r,i=v();a(),m("ngIf",(u=i.loginForm.get("password"))==null?null:u.hasError("required")),a(),m("ngIf",(r=i.loginForm.get("password"))==null?null:r.hasError("pattern"))}}var re=(()=>{let o=class o{constructor(r,i,s,c){this.fb=r,this._AuthService=i,this._Router=s,this.toastrService=c,this.loginForm=this.fb.group({email:new S(null,[f.required,f.email]),password:new S(null,[f.required,f.pattern(/^\w{3,10}$/)])})}setLoginForm(r){r.valid&&this._AuthService.signInApi(r.value).subscribe({next:i=>{console.log(i),i.message==="success"?(console.log("Success"),localStorage.setItem("uGame",i.token),this._AuthService.saveUserData(),r.reset(),this.toastrService.success("SignIn Successfully","Success",{timeOut:3e3}),this._Router.navigate(["/home"])):this.toastrService.error(`${i.message}`,"Error",{timeOut:3e3})}})}};o.\u0275fac=function(i){return new(i||o)(p(V),p(N),p(L),p(j))},o.\u0275cmp=x({type:o,selectors:[["app-login"]],standalone:!0,features:[I],decls:29,vars:4,consts:[["inp4",""],["inp5",""],[1,"register"],[1,"container","vh-100","d-flex","align-items-center","justify-content-center"],[1,"row","shadow","rounded","overflow-hidden","bg-darklight","g-0","w-100"],[1,"col-12","col-md-5","d-none","d-md-block"],[1,"image","flex-shrink-0","h-100",2,"background","url('./assets/images/log.jpg') center / cover no-repeat"],[1,"col-12","col-md-7"],[1,"p-4",3,"ngSubmit","formGroup"],[1,"text-center"],["src","./assets/images/logo-sm.png","alt","log sm",1,"img-fluid","my-3"],[1,"h5","text-center","mb-4"],[1,"data","row","g-3"],[1,"col-12"],["type","email","formControlName","email","placeholder","Email Address",1,"form-control","form-control-lg"],["class","text-danger small",4,"ngIf"],["formControlName","password","type","password","placeholder","Password",1,"form-control","form-control-lg"],[1,"btn-r","btn-blue","w-100",3,"disabled"],[1,"mt-1","text-center"],["routerLink","/auth/signup",1,"btn-link","text-decoration-none","cp"],[1,"fa-solid","fa-angle-right","fa-fw"],[1,"text-danger","small"],["class","",4,"ngIf"],[1,""],[1,"m-0","p-0"]],template:function(i,s){if(i&1){let c=C();e(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",5),d(4,"div",6),n(),e(5,"div",7)(6,"form",8),F("ngSubmit",function(){return w(c),E(s.setLoginForm(s.loginForm))}),e(7,"div",9),d(8,"img",10),n(),e(9,"h2",11),l(10,"Log in to FreeToGame"),n(),e(11,"div",12)(12,"div",13),d(13,"input",14,0),g(15,U,3,2,"ul",15),n(),e(16,"div",13),d(17,"input",16,1),g(19,J,3,2,"ul",15),n(),e(20,"div",13)(21,"button",17),l(22," Login "),n()(),e(23,"div",13)(24,"p",18),l(25," Not a member yet? "),e(26,"span",19),l(27,"Create Account "),d(28,"i",20),n()()()()()()()()()}if(i&2){let c,_,O=h(14),$=h(18);a(6),m("formGroup",s.loginForm),a(9),m("ngIf",((c=s.loginForm.get("email"))==null?null:c.errors)&&O.value.length),a(4),m("ngIf",((_=s.loginForm.get("password"))==null?null:_.errors)&&$.value.length),a(2),m("disabled",s.loginForm.invalid)}},dependencies:[A,T,D,q,k,R,M,G,P,y,b]});let t=o;return t})();export{re as LoginComponent};
